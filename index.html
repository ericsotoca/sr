<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>L'Oracle des Coeurs Connectés</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Cormorant+Garamond:ital,wght@0,400;0,700;1,400&family=Poppins:wght@300;400&display=swap" rel="stylesheet">
    <style>
        :root {
            --bg-deep-space: #191825;
            --bg-nebula: #2c2a4a;
            --card-color: #232235;
            --text-primary: #e0e0e0;
            --text-secondary: #b3b0c4;
            --accent-glow: #e94560;
            --accent-soft: #f8a5c2;
            --font-title: 'Cormorant Garamond', serif;
            --font-body: 'Poppins', sans-serif;
            --transition-speed: 600ms;
        }

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            background-color: var(--bg-deep-space);
            color: var(--text-primary);
            font-family: var(--font-body);
            display: flex;
            justify-content: center;
            align-items: center;
            min-height: 100vh;
            padding: 20px;
            overflow: hidden;
            position: relative;
        }

        #star-background {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            z-index: -1;
        }

        .oracle-container {
            position: relative;
            background: linear-gradient(145deg, var(--bg-nebula), #2a2840);
            border-radius: 20px;
            padding: 40px;
            max-width: 600px;
            width: 100%;
            box-shadow: 0 15px 40px rgba(0, 0, 0, 0.5), 0 0 0 1px rgba(255, 255, 255, 0.05) inset;
            text-align: center;
            z-index: 1;
            display: flex;
            flex-direction: column;
            gap: 25px;
        }

        h1 {
            font-family: var(--font-title);
            color: var(--accent-soft);
            font-size: 2.8em;
            font-weight: 700;
            letter-spacing: 1px;
            text-shadow: 0 0 10px rgba(248, 165, 194, 0.3);
        }

        .intro {
            font-size: 1.1em;
            line-height: 1.7;
            font-weight: 300;
            color: var(--text-secondary);
            max-width: 90%;
            margin: 0 auto;
        }

        .card-flipper {
            perspective: 1200px;
            min-height: 200px;
        }

        .card-inner {
            position: relative;
            width: 100%;
            height: 100%;
            min-height: 200px;
            transition: transform var(--transition-speed) cubic-bezier(0.68, -0.55, 0.27, 1.55);
            transform-style: preserve-3d;
        }
        
        .card-flipper.is-flipped .card-inner {
            transform: rotateY(180deg);
        }

        .card-face {
            position: absolute;
            width: 100%;
            height: 100%;
            -webkit-backface-visibility: hidden;
            backface-visibility: hidden;
            display: flex;
            justify-content: center;
            align-items: center;
            padding: 25px;
            border-radius: 15px;
            background: var(--card-color);
            border: 1px solid rgba(255, 255, 255, 0.08);
            box-shadow: 0 5px 15px rgba(0,0,0,0.2) inset;
        }

        .card-front {
            flex-direction: column;
            gap: 15px;
        }
        
        .card-front-icon {
            font-size: 3em;
            color: var(--accent-soft);
            opacity: 0.5;
            text-shadow: 0 0 15px var(--accent-soft);
        }

        .card-front-text {
            color: var(--text-secondary);
            font-style: italic;
        }

        .card-back {
            transform: rotateY(180deg);
        }

        #question-text {
            font-family: var(--font-title);
            font-style: italic;
            font-size: 1.6em;
            line-height: 1.5;
            font-weight: 400;
            color: var(--text-primary);
        }

        #draw-button {
            background: linear-gradient(45deg, var(--accent-glow), #c43751);
            color: white;
            border: none;
            border-radius: 50px;
            padding: 18px 40px;
            font-size: 1.2em;
            font-family: var(--font-body);
            font-weight: 400;
            cursor: pointer;
            transition: all 0.3s ease;
            box-shadow: 0 5px 20px rgba(233, 69, 96, 0.3);
            align-self: center;
        }

        #draw-button:hover {
            transform: translateY(-3px) scale(1.05);
            box-shadow: 0 8px 25px rgba(233, 69, 96, 0.4);
        }

        #draw-button:active {
            transform: translateY(-1px) scale(1.02);
        }

        footer {
            font-size: 0.85em;
            color: var(--text-secondary);
            opacity: 0.7;
        }
        
        @media (max-width: 600px) {
            .oracle-container {
                padding: 25px;
                gap: 20px;
            }
            h1 { font-size: 2.2em; }
            .intro { font-size: 1em; }
            #question-text { font-size: 1.3em; }
            #draw-button { padding: 15px 35px; font-size: 1em; }
        }
    </style>
</head>
<body>
    <canvas id="star-background"></canvas>

    <div class="oracle-container">
        <h1>L'Oracle des Cœurs</h1>
        <p class="intro">
            5 ans est une étape. Ce n'est pas une fin, mais un carrefour. Chaque question est une étoile pour vous guider. Parlez avec douceur, écoutez avec courage.
        </p>

        <div class="card-flipper" id="card-flipper">
            <div class="card-inner">
                <div class="card-face card-front">
                    <div class="card-front-icon">◇</div>
                    <p class="card-front-text">L'univers attend votre intention.</p>
                </div>
                <div class="card-face card-back">
                    <p id="question-text"></p>
                </div>
            </div>
        </div>

        <button id="draw-button">Tirer une carte</button>

        <footer>
            <p>Conçu pour éclairer les chemins du cœur.</p>
        </footer>
    </div>

    <script>
        const questions = [
            // Réflexion sur le passé
            "Quel est le souvenir le plus heureux que nous ayons créé ensemble et pourquoi est-il si précieux pour toi ?",
            "À quel moment as-tu senti pour la première fois que nous commencions à nous éloigner ?",
            "Quelle qualité que j'admirais chez toi au début de notre relation est toujours celle que je préfère aujourd'hui ?",
            "Y a-t-il une promesse que nous nous sommes faite et que nous n'avons pas tenue ?",
            "Si tu pouvais revivre une seule journée de notre histoire, laquelle choisirais-tu et pourquoi ?",
            "Comment notre relation a-t-elle changé la personne que j'étais il y a 5 ans ?",
            "Quel a été le plus grand défi que nous avons surmonté ensemble, et qu'avons-nous appris de cette épreuve ?",
            "Y a-t-il quelque chose de notre 'nous' du début qui te manque terriblement aujourd'hui ?",
            "Quand t'es-tu senti le plus fier/fière de nous en tant que couple ?",
            "Quelle est la chose la plus importante que tu as apprise de moi ?",

            // État des lieux du présent
            "Si tu devais décrire notre relation aujourd'hui en trois mots, quels seraient-ils ?",
            "Quand te sens-tu le plus seul(e), même lorsque nous sommes ensemble ?",
            "Quelle est la chose que j'ai arrêtée de faire et qui te manque le plus ?",
            "De quelle manière te sens-tu vraiment vu(e), entendu(e) et compris(e) par moi aujourd'hui ?",
            "Quelle est la conversation que nous évitons constamment ?",
            "Qu'est-ce qui te pèse le plus dans notre quotidien commun ?",
            "À l'inverse, qu'est-ce qui illumine encore ta journée dans notre vie à deux ?",
            "Sentons-nous encore que nous formons une équipe face aux difficultés ?",
            "Sur une échelle de 1 à 10, à quel point te sens-tu épanoui(e) dans notre relation en ce moment ?",
            "Quelle est la dernière fois que tu as ri aux larmes avec moi ?",

            // Vision du futur
            "À quoi ressemble une journée parfaite pour toi dans 5 ans, avec moi dedans ?",
            "Et si tu osais l'imaginer... à quoi ressemblerait cette même journée sans moi ?",
            "Quelle est ta plus grande peur si nous nous séparons ?",
            "Quelle est ta plus grande peur si nous restons ensemble et que rien ne change ?",
            "Avons-nous encore des rêves communs, ou seulement des habitudes communes ?",
            "Quel sacrifice serais-tu prêt(e) à faire pour notre avenir commun ?",
            "Sur quel aspect de ta vie n'es-tu absolument pas prêt(e) à faire de compromis pour notre relation ?",
            "Si nous décidons de continuer, quel est LE premier changement que nous devons faire ?",
            "Croyons-nous encore que nous pouvons nous rendre heureux mutuellement à long terme ?",
            "Si un sage nous disait que notre histoire a une fin, comment voudrais-tu vivre le temps qu'il nous reste ?",

            // Besoins individuels et croissance
            "De quoi as-tu besoin de ma part en ce moment que tu n'oses pas demander ?",
            "Qu'est-ce que cette relation t'empêche de devenir ou d'accomplir, selon toi ?",
            "À l'inverse, qu'est-ce que cette relation te permet d'être ou d'accomplir ?",
            "Te sens-tu libre d'être toi-même à 100% avec moi, y compris tes facettes moins jolies ?",
            "Quel est ton besoin le plus profond qui n'est pas comblé dans notre relation (sécurité, passion, reconnaissance, liberté...) ?",
            "Comment puis-je mieux soutenir tes passions et tes projets personnels ?",
            "Quand te sens-tu le plus toi-même : quand tu es avec moi, avec tes amis, ou seul(e) ?",
            "Ai-je perdu une partie de moi-même dans cette relation ? Si oui, laquelle ?",
            "Quelle est la chose que tu admires chez moi et que tu aimerais que je cultive davantage ?",
            "Si tu n'avais pas peur de me blesser, quelle vérité me dirais-tu sur nous ?",

            // Amour, intimité et connexion
            "L'amour que tu ressens pour moi a-t-il changé de nature avec le temps ? Comment ?",
            "Que signifie 'je t'aime' pour toi, aujourd'hui, quand tu me le dis ?",
            "Au-delà du sexe, comment pourrions-nous recréer de l'intimité et de la complicité ?",
            "Quand te sens-tu le plus connecté(e) à moi ?",
            "Y a-t-il une part de toi que tu as peur de me montrer ?",
            "Si notre amour était une plante, de quel soin aurait-elle le plus besoin pour refleurir ?",
            "Sommes-nous encore des amants, ou sommes-nous devenus de simples partenaires de vie ?",
            "Quelle est la chose la plus romantique que je pourrais faire pour toi cette semaine ?",
            "Comment puis-je te montrer mon amour d'une manière qui te parle vraiment ?",
            "Au fond de toi, as-tu encore de l'espoir pour nous ?"
        ];

        let remainingQuestions = [...questions];
        const drawButton = document.getElementById('draw-button');
        const questionText = document.getElementById('question-text');
        const cardFlipper = document.getElementById('card-flipper');
        let isFlipping = false;
        let isFirstDraw = true;

        drawButton.addEventListener('click', () => {
            if (isFlipping) return;

            if (remainingQuestions.length === 0) {
                // Reset logic
                remainingQuestions = [...questions];
                questionText.textContent = "Vous avez exploré toutes les étoiles. Un nouveau cycle peut commencer.";
                drawButton.textContent = "Recommencer le voyage";
                return;
            }
            
            isFlipping = true;
            
            if(drawButton.textContent !== "Tirer une carte") {
                 drawButton.textContent = "Tirer une carte";
            }

            // Flip the card
            cardFlipper.classList.toggle('is-flipped');

            setTimeout(() => {
                // Change text mid-flip
                const randomIndex = Math.floor(Math.random() * remainingQuestions.length);
                const selectedQuestion = remainingQuestions[randomIndex];
                remainingQuestions.splice(randomIndex, 1);
                questionText.textContent = selectedQuestion;

                if (remainingQuestions.length === 0) {
                    drawButton.textContent = "Terminer le cycle";
                }

                isFlipping = false;
            }, (isFirstDraw ? 0 : 300)); // Change text immediately on first draw, then mid-flip
            
            isFirstDraw = false;
        });

        // --- Starry Background Animation ---
        const canvas = document.getElementById('star-background');
        const ctx = canvas.getContext('2d');

        let width, height, stars;

        const starCount = 100;
        const starSpeed = 0.5;

        function init() {
            width = window.innerWidth;
            height = window.innerHeight;
            canvas.width = width;
            canvas.height = height;
            
            stars = [];
            for (let i = 0; i < starCount; i++) {
                stars.push({
                    x: Math.random() * width,
                    y: Math.random() * height,
                    radius: Math.random() * 1.2,
                    alpha: Math.random() * 0.5 + 0.5,
                    vx: (Math.random() - 0.5) * starSpeed,
                    vy: (Math.random() - 0.5) * starSpeed
                });
            }
        }

        function animate() {
            ctx.clearRect(0, 0, width, height);
            ctx.fillStyle = getComputedStyle(document.documentElement).getPropertyValue('--bg-deep-space').trim();
            ctx.fillRect(0,0,width,height);
            
            stars.forEach(star => {
                star.x += star.vx;
                star.y += star.vy;

                if (star.x < 0 || star.x > width) star.vx = -star.vx;
                if (star.y < 0 || star.y > height) star.vy = -star.vy;

                ctx.beginPath();
                ctx.arc(star.x, star.y, star.radius, 0, Math.PI * 2);
                ctx.fillStyle = `rgba(224, 224, 224, ${star.alpha})`;
                ctx.fill();
            });

            requestAnimationFrame(animate);
        }
        
        window.addEventListener('resize', init);
        init();
        animate();

    </script>
</body>
</html>
